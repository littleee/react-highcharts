@import 'variables';
@import 'mixins';

/**
 * 弹出框（整合），可用于 `tooltip` 和数据操作弹层。
 *
 * 在两者的结构较为相似，故取消 tooltip ，用 `popover-mini` 和 `popover-mini-reverse` 类名来代替；
 * 其中 `popover-mini-reverse` 为黑色背景，更贴近于 `tooltip` ，设计稿详情见：http://yvkvzp.axshare.com/#g=1&p=tips_。
 *
 *
 * @author 蒋毅强<jiangyiqiang@126.com>
 */

.popover {
  position: absolute;
  top: 0;
  left: 0;
  display: none;
  padding: 1px;
  line-height: 1.25;
  min-width: $popover-min-width;
  max-width: $popover-max-width;
  background-color: $popover-bg;
  border-radius: $border-radius-base;
  box-shadow: $popover-shadow;
  z-index: 10;
  font-size: $popover-font-size;

  a {
    font-size: $popover-font-size;
  }

  &.top {
    margin-top: -10px;
  }

  &.left {
    margin-left: -10px;
  }

  &.right {
    margin-left: 10px;
  }

  &.bottom {
    margin-top: 10px;
  }
}

.popover-row {
  line-height: $line-height-base;

  &:not(:last-child) {
    margin-bottom: 15px;
  }

  .icon,
  .iconfont {
    font-size: 2rem;
    line-height: 1;
  }
}

.popover-title {
  padding: 6px 0;
  margin: 0 10px;
  font-size: $font-size-base;
  line-height: 1.5;
  font-size: $popover-font-size;
  border-bottom: 1px $popover-title-border solid;
}

.popover-content {
  padding: 9px 10px 15px;

  .icon {
    margin-right: 10px;
  }
}

.popover > .arrow {
  @include bubble($popover-arrow-width, $popover-shadow, $popover-bg);
}

.popover {
  &.top > .arrow {
    top: auto;
    bottom: -$popover-arrow-width * 1.5;
    left: 50%;
    margin-left: -$popover-arrow-width / 2;
    transform: rotate(-90deg);
  }

  &.right > .arrow {
    top: 50%;
    margin-top: -$popover-arrow-width;
  }

  &.bottom > .arrow {
    top: -$popover-arrow-width * 1.5;
    bottom: -$popover-arrow-width;
    transform: rotate(90deg);
    left: 50%;
    margin-left: -$popover-arrow-width / 2;
  }

  &.left > .arrow {
    top: 50%;
    left: auto;
    right: -$popover-arrow-width;
    transform: rotate(180deg);
    margin-top: -$popover-arrow-width;
  }
}

.offset {
  box-shadow: $popover-offset-shadow;

  .arrow:before {
    box-shadow: $popover-offset-shadow;
  }

  &.right > .arrow {
    top: 13px;
    margin: 0;
  }

  &.left > .arrow {
    top: 13px;
    margin: 0;
  }
}

.popover-mini {
  @include popover-mini($popover-mini-padding-y, $popover-mini-padding-x);

  & > .arrow:before {
    box-shadow: none;
  }
}

.popover-mini-reverse {
  @include popover-mini($popover-mini-padding-y, $popover-mini-padding-x);

  &,
  & > a {
    color: $popover-reverse-color;
  }

  &,
  & .arrow:before {
    background-color: $popover-reverse-bg;
  }
}
