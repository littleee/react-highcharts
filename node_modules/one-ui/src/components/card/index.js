import _ from 'lodash';
import cx from 'classnames';
import React, { Component } from 'react';

class Card extends Component {
  static defaultProps = {
    title: 'panel',
    shadow: false,
    rights: []
  };

  render() {
    const { rights, title } = this.props;
    const className = this.props.shadow ? ' panel-shadow' : null;

    return (
      <div className={ cx('panel', className, this.props.className) }>
        <div className="panel-heading">
          {
            _.isString(title) ? (
              <h5 className="panel-title">{ title }</h5>
            ) : title
          }
          {
            _.isArray(rights) && rights.length > 0 ? (
              <div className="panel-extra">
                {
                  rights.map(function (item, key) {
                    return Object.assign({}, item, {key});
                  })
                }
              </div>
            ) : null
          }
        </div>
        { this.props.children }
      </div>
    )
  }
}

export default Card;
